{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","PHONES_EP","PHONE_DETAILS_EP","request","endpoint","fetch","then","response","ok","json","Promise","reject","Error","getPhones","resolve","setTimeout","getPhonesDetails","ids","phones","map","id","all","displayPhones","phoneList","phone","name","join","document","body","insertAdjacentHTML","data","catch","error","alert"],"mappings":";AAAA,aAEA,IAAMA,EAAW,4DAEXC,EAAY,eACZC,EAAmB,WAEnBC,EAAU,SAAAC,GACPC,OAAAA,MAAML,EAAWI,GACrBE,KAAK,SAAAC,GACA,OAACA,EAASC,GAMPD,EAASE,OALPC,QAAQC,OACbC,MAAmCZ,6BAAAA,OAAAA,EAAWI,QAQlDS,EAAY,WACT,OAAA,IAAIH,QAAQ,SAACI,EAASH,GAGpBG,OAFPC,WAAW,WAAMJ,OAAAA,EAAOC,MAAM,0BAA0B,KAEjDE,EAAQX,EAAQF,OAIrBe,EAAmB,SAACC,GAClBC,IAAAA,EAASD,EAAIE,IAAI,SAAAC,GAAMjB,OAAAA,EAAQD,EAAmBkB,EAAK,WAEtDV,OAAAA,QAAQW,IAAIH,IAGfI,EAAgB,SAACJ,GACfK,IAAAA,EAEAL,wCAAAA,OAAAA,EAAOC,IAAI,SAAAK,GAAgBA,MAAAA,OAAAA,OAAAA,EAAMC,KAAjB,WAA8BC,KAAK,IAFzD,mBAMAC,SAASC,KAAKC,mBAAmB,YAAaN,IAGhDV,IACGP,KAAK,SAAAwB,GACEb,IAAAA,EAAMa,EAAKX,IAAI,SAAA,GAAYC,OAATA,EAAAA,KAEjBJ,OAAAA,EAAiBC,KAEzBX,KAAK,SAAAY,GACJI,EAAcJ,KAEfa,MAAM,SAAAC,GAASC,OAAAA,MAAMD","file":"main.0b6a6fef.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nconst PHONES_EP = '/phones.json';\nconst PHONE_DETAILS_EP = '/phones/';\n\nconst request = endpoint => {\n  return fetch(BASE_URL + endpoint)\n    .then(response => {\n      if (!response.ok) {\n        return Promise.reject(\n          Error(`Failed to make request at ${BASE_URL + endpoint}`)\n        );\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhones = () => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => reject(Error('5 seconds has passed')), 5000);\n\n    return resolve(request(PHONES_EP));\n  });\n};\n\nconst getPhonesDetails = (ids) => {\n  const phones = ids.map(id => request(PHONE_DETAILS_EP + id + '.json'));\n\n  return Promise.all(phones);\n};\n\nconst displayPhones = (phones) => {\n  const phoneList = `\n    <ul class=\"phone-list\">\n      ${phones.map(phone => `<li>${phone.name}</li>`).join('')}\n    </ul>\n  `;\n\n  document.body.insertAdjacentHTML('beforeend', phoneList);\n};\n\ngetPhones()\n  .then(data => {\n    const ids = data.map(({ id }) => id);\n\n    return getPhonesDetails(ids);\n  })\n  .then(phones => {\n    displayPhones(phones);\n  })\n  .catch(error => alert(error));\n"]}